/* Generated by Nim Compiler v0.17.2 */
/*   (c) 2017 Andreas Rumpf */
/* The generated code is subject to the original license. */
/* Compiled for: MacOSX, amd64, clang */
/* Command for C compiler:
   clang -c  -w  -I/usr/local/Cellar/nim/0.17.2/nim/lib -o /Users/taichiro/Workspace/which_is_the_fastest/nim/jester/nimcache/stdlib_nativesockets.o /Users/taichiro/Workspace/which_is_the_fastest/nim/jester/nimcache/stdlib_nativesockets.c */
#define NIM_NEW_MANGLING_RULES
#define NIM_INTBITS 64

#include "nimbase.h"
#include <sys/socket.h>
#include <string.h>
#include <netinet/in.h>
#include <unistd.h>
#include <netdb.h>
#include <arpa/inet.h>
#include <fcntl.h>
#include <sys/select.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef powerpc
#undef unix
typedef struct tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ;
typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ;
typedef struct tySequence_sM4lkSb7zS6F7OVMvW9cffQ tySequence_sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct tyObject_Hostent_azV1qb29cFIFe582aezrNAQ tyObject_Hostent_azV1qb29cFIFe582aezrNAQ;
typedef struct tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ;
typedef struct tyObject_SystemError_Fjf9b9b2IlzRO2tspHxG3tgg tyObject_SystemError_Fjf9b9b2IlzRO2tspHxG3tgg;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g;
typedef struct tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w;
typedef struct tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ;
typedef struct tyObject_GcStack_7fytPA5bBsob6See21YMRA tyObject_GcStack_7fytPA5bBsob6See21YMRA;
typedef struct tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg;
typedef struct tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ;
typedef struct tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw;
typedef struct tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg;
typedef struct tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA;
typedef struct tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw;
typedef struct tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw;
typedef struct tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg;
typedef struct tyTuple_ujsjpB2O9cjj3uDHsXbnSzg tyTuple_ujsjpB2O9cjj3uDHsXbnSzg;
typedef struct tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg;
typedef struct tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ;
typedef struct tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg;
typedef struct tyTuple_J0FzjuY02DFObU1sQZLwJA tyTuple_J0FzjuY02DFObU1sQZLwJA;
typedef struct tySequence_9apztJSmgERYU8fZOjI4pOg tySequence_9apztJSmgERYU8fZOjI4pOg;
typedef struct tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w;
typedef struct tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ;
typedef NU8 tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg;
struct tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ {
tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg val;
NIM_BOOL has;
};
typedef NU8 tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw;
typedef NU8 tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg;
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ {
NimStringDesc* name;
tySequence_sM4lkSb7zS6F7OVMvW9cffQ* aliases;
NU16 port;
NimStringDesc* proto;
};
struct tyObject_Hostent_azV1qb29cFIFe582aezrNAQ {
NimStringDesc* name;
tySequence_sM4lkSb7zS6F7OVMvW9cffQ* aliases;
tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg addrtype;
NI length;
tySequence_sM4lkSb7zS6F7OVMvW9cffQ* addrList;
};
typedef NIM_CHAR tyArray_Wfh9bjgBQ4UqJsyISUuDSuA[16];
typedef NIM_CHAR tyArray_dTlC27m9c9aWd5dvuePYanug[256];
typedef NU8 tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc_ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
tyEnum_TNimKind_jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag_v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc_ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc_WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
struct RootObj {
TNimType* m_type;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
NimStringDesc* trace;
Exception* up;
};
struct tyObject_SystemError_Fjf9b9b2IlzRO2tspHxG3tgg {
  Exception Sup;
};
struct tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ {
  tyObject_SystemError_Fjf9b9b2IlzRO2tspHxG3tgg Sup;
};
typedef NU8 tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind_unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g {
NI refcount;
TNimType* typ;
};
struct tyObject_GcStack_7fytPA5bBsob6See21YMRA {
void* bottom;
};
struct tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w {
NI len;
NI cap;
tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g** d;
};
typedef tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* tyArray_SiRwrEKZdLgxqz9a9aoVBglg[512];
typedef tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw* tyArray_lh2A89ahMmYg9bCmpVaplLbA[256];
struct tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA {
tyArray_lh2A89ahMmYg9bCmpVaplLbA data;
};
typedef tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* tyArray_0aOLqZchNi8nWtMTi8ND8w[2];
struct tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw {
tyArray_0aOLqZchNi8nWtMTi8ND8w link;
NI key;
NI upperBound;
NI level;
};
struct tyTuple_ujsjpB2O9cjj3uDHsXbnSzg {
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* Field0;
NI Field1;
};
typedef tyTuple_ujsjpB2O9cjj3uDHsXbnSzg tyArray_LzOv2eCDGiceMKQstCLmhw[30];
struct tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg {
NI len;
tyArray_LzOv2eCDGiceMKQstCLmhw chunks;
tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg* next;
};
struct tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg {
NI minLargeObj;
NI maxLargeObj;
tyArray_SiRwrEKZdLgxqz9a9aoVBglg freeSmallChunks;
tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw* llmem;
NI currMem;
NI maxMem;
NI freeMem;
NI lastSize;
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* freeChunksList;
tyObject_IntSet_EZObFrE3NC9bIb3YMkY9crZA chunkStarts;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* root;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* deleted;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* last;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw* freeAvlNodes;
NIM_BOOL locked;
NIM_BOOL blockChunkSizeIncrease;
NI nextChunkSize;
tyObject_AvlNode_IaqjtwKhxLEpvDS9bct9blEw bottomData;
tyObject_HeapLinks_PDV1HBZ8CQSQJC9aOBFNRSg heapLinks;
};
struct tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg {
NI stackScans;
NI cycleCollections;
NI maxThreshold;
NI maxStackSize;
NI maxStackCells;
NI cycleTableSize;
NI64 maxPause;
};
struct tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ {
NI counter;
NI max;
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg* head;
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg** data;
};
struct tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ {
tyObject_GcStack_7fytPA5bBsob6See21YMRA stack;
NI cycleThreshold;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w zct;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w decStack;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w tempStack;
NI recGcLock;
tyObject_MemRegion_x81NhDv59b8ercDZ9bi85jyg region;
tyObject_GcStat_0RwLoVBHZPfUAcLczmfQAg stat;
tyObject_CellSet_jG87P0AI9aZtss9ccTYBIISQ marked;
tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w additionalRoots;
};
struct tyTuple_J0FzjuY02DFObU1sQZLwJA {
NimStringDesc* Field0;
NU16 Field1;
};
typedef NIM_CHAR tyArray_2cWMSJoP9cqN4yIK0ILkQaQ[64];
struct tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w {
NI prevSize;
NI size;
};
struct tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ {
  tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w Sup;
tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* next;
tyObject_SmallChunk_tXn60W2f8h3jgAYdEmy5NQ* prev;
tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ* freeList;
NI free;
NI acc;
NF data;
};
struct tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw {
NI size;
NI acc;
tyObject_LLChunk_XsENErzHIZV9bhvyJx56wGw* next;
};
struct tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg {
  tyObject_BaseChunk_Sdq7WpT6qAH858F5ZEdG3w Sup;
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* next;
tyObject_BigChunk_Rv9c70Uhp2TytkX7eH78qEg* prev;
NF data;
};
typedef NI tyArray_9a8QARi5WsUggNU9bom7kzTQ[8];
struct tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw {
tyObject_Trunk_W0r8S0Y3UGke6T9bIUWnnuw* next;
NI key;
tyArray_9a8QARi5WsUggNU9bom7kzTQ bits;
};
struct tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg {
tyObject_PageDesc_fublkgIY4LG3mT51LU2WHg* next;
NI key;
tyArray_9a8QARi5WsUggNU9bom7kzTQ bits;
};
struct tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ {
tyObject_FreeCell_u6M5LHprqzkn9axr04yg9bGQ* next;
NI zeroField;
};
struct tySequence_sM4lkSb7zS6F7OVMvW9cffQ {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct tySequence_9apztJSmgERYU8fZOjI4pOg {
  TGenericSeq Sup;
  int data[SEQ_DECL_SIZE];
};
N_NIMCALL(tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ, some_JMiA9ccATJp8JunIrSlndYA)(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg val);
N_NIMCALL(tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ, none_IBO7fiOVpMVOmhrZWFqq1A)(void);
N_NIMCALL(short, toInt_OxnVJkB3zYuSbbBvLQDSVA)(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain);
static N_INLINE(NI, chckRange)(NI i, NI a, NI b);
N_NOINLINE(void, raiseRangeError)(NI64 val);
static N_INLINE(void, nimFrame)(TFrame* s);
N_NOINLINE(void, stackOverflow_II46IjNZztN9bmbxUD8dt8g)(void);
static N_INLINE(void, popFrame)(void);
N_NIMCALL(tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ, toKnownDomain_WoQ5UOyB2HAIoN15dknZCw)(int family);
N_NIMCALL(int, toInt_0zBaW59cZQJVrz1L13Wid5g)(tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw typ);
N_NIMCALL(int, toInt_slGFLM9cFJ086GOC2tjJphw)(tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg p);
N_NIMCALL(tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw, toSockType_zz9bxu9cRa00a9b6j4pehnFgQ)(tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol);
N_NIMCALL(int, newNativeSocket_P59cS8yz3VHsnoN6zylI5Lg)(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw sockType, tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol);
N_NIMCALL(int, newNativeSocket_xsLKpyGLgUgaTjiALlo5Kw)(int domain, int sockType, int protocol);
N_NIMCALL(void, close_ODRNWwddsp7NVetdw9cXCVg)(int socket);
N_NIMCALL(int, bindAddr_zpvqU0KQkzbkoKaehnMX2A)(int socket, struct sockaddr* name, socklen_t namelen);
N_NIMCALL(int, listen_BNAD35QpM7R1C7EJRtAZ3Q)(int socket, int backlog);
N_NIMCALL(struct addrinfo*, getAddrInfo_fNPnGAYqSzdc2OjHEcTTAw)(NimStringDesc* address, NU16 port, tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw sockType, tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol);
N_NIMCALL(NimStringDesc*, dollar__rzAI8EMyNBAQwGODeohhAA)(NU64 x);
N_NOINLINE(void, raiseOSError_bEwAamo1N7TKcaU9akpiyIg)(NI32 errorCode, NimStringDesc* additionalInfo);
N_NIMCALL(NI32, osLastError_tNPXXFl9cb3BG0pJKzUn9bew)(void);
N_NIMCALL(NimStringDesc*, cstrToNimstr)(NCSTRING str);
N_NIMCALL(void, dealloc_o4AP9bp2a6Md29bi289aWTZew)(struct addrinfo* ai);
N_NIMCALL(NU32, ntohl_RStKcIp64i7w9c4KBI2z46w)(NU32 x);
N_NIMCALL(NU16, ntohs_hTWZ9cGeQnQNEThS6k8qUKg)(NU16 x);
N_NIMCALL(void, getServByName_NNxs1hil5R9bGsNpctd3bfw)(NimStringDesc* name, NimStringDesc* proto, tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ* Result);
N_NIMCALL(void, unsureAsgnRef)(void** dest, void* src);
N_NIMCALL(tySequence_sM4lkSb7zS6F7OVMvW9cffQ*, cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg)(NCSTRING* a);
N_NIMCALL(void, getServByPort_UF7NNhoRARWyxcKKRnLExQ)(NU16 port, NimStringDesc* proto, tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ* Result);
N_NIMCALL(void, getHostByAddr_am5EZHJJRqP8LgSJZcjXTw)(NimStringDesc* ip, tyObject_Hostent_azV1qb29cFIFe582aezrNAQ* Result);
N_NIMCALL(void, getHostByName_4pNvNBdh0QjXDN9aI1Jilqw)(NimStringDesc* name, tyObject_Hostent_azV1qb29cFIFe582aezrNAQ* Result);
N_NIMCALL(NimStringDesc*, getHostname_yWWJQMhb0xdemcFTQgjbcQ)(void);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_NIMCALL(NimStringDesc*, mnewString)(NI len);
N_NIMCALL(NimStringDesc*, setLengthStr)(NimStringDesc* s, NI newLen);
N_NIMCALL(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg, getSockDomain_j9cFma7L5fIBlpl9awGYA72A)(int socket);
N_NIMCALL(NimStringDesc*, getAddrString_wIS6MR5PrZV5s3d85jE2nw)(struct sockaddr* sockAddr);
static N_INLINE(NIM_BOOL, eqeq__9ccNWqrTIE9bcAqE2Q0ro7zgsystem)(NCSTRING x, NCSTRING y);
N_NOINLINE(void, raiseIndexError)(void);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* s, NI start);
N_NIMCALL(NimStringDesc*, copyStr)(NimStringDesc* s, NI first);
N_NIMCALL(void*, newObj)(TNimType* typ, NI size);
N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem)(void* usr);
static N_INLINE(void, rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_NOINLINE(void, addZCT_fCDI7oO1NNVXXURtxSzsRw)(tyObject_CellSeq_Axo1XVm9aaQueTOldv8le5w* s, tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
static N_INLINE(void, asgnRef)(void** dest, void* src);
static N_INLINE(void, incRef_9cAA5YuQAAC3MVbnGeV86swsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
static N_INLINE(void, decRef_MV4BBk6J1qu70IbBxwEn4wsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c);
N_NIMCALL(void, raiseException)(Exception* e, NCSTRING ename);
N_NIMCALL(NU16, getSockName_VJAFVIID7Gi09bNUDgo9aXuA)(int socket);
N_NIMCALL(void, getLocalAddr_IA9aPOAIFL0HA7Wl9c0gWEEg)(int socket, tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyTuple_J0FzjuY02DFObU1sQZLwJA* Result);
N_NIMCALL(void, getPeerAddr_IA9aPOAIFL0HA7Wl9c0gWEEg_2)(int socket, tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyTuple_J0FzjuY02DFObU1sQZLwJA* Result);
N_NIMCALL(NI, getSockOptInt_7ZeTYMZbCWxCnrevsvDH2g)(int socket, NI level, NI optname);
N_NIMCALL(void, setSockOptInt_AD4OLBf5FHlJkAgq7B9aY5A)(int socket, NI level, NI optname, NI optval);
N_NIMCALL(void, setBlocking_RBApwF6paZ4dy39bsxU85TA)(int s, NIM_BOOL blocking);
N_NIMCALL(struct timeval, timeValFromMilliseconds_X7JbWdPaNDQPHMVB9aPz9bkQ)(NI timeout);
static N_INLINE(NI, divInt)(NI a, NI b);
N_NOINLINE(void, raiseDivByZero)(void);
N_NOINLINE(void, raiseOverflow)(void);
N_NIMCALL(NI, mulInt)(NI a, NI b);
static N_INLINE(NI, subInt)(NI a, NI b);
N_NIMCALL(void, createFdSet_2WN0c6XLlKabdgianu73bg)(fd_set* fd, tySequence_9apztJSmgERYU8fZOjI4pOg* s, NI* m);
static N_INLINE(NI, addInt)(NI a, NI b);
N_NIMCALL(void, failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA)(NimStringDesc* msg);
N_NIMCALL(void, pruneSocketSet_1LwJOFdSmq6EdasZp5EGUA)(tySequence_9apztJSmgERYU8fZOjI4pOg** s, fd_set* fd);
N_NIMCALL(TGenericSeq*, setLengthSeq)(TGenericSeq* seq, NI elemSize, NI newLen);
N_NIMCALL(NI, select_f1UV2yno269c9cyjR0CwiQwg)(tySequence_9apztJSmgERYU8fZOjI4pOg** readfds, NI timeout);
N_NIMCALL(NI, selectRead_f1UV2yno269c9cyjR0CwiQwg_2)(tySequence_9apztJSmgERYU8fZOjI4pOg** readfds, NI timeout);
N_NIMCALL(NI, selectWrite_Mynm9aGCt9cFsRIL52XLwFaw)(tySequence_9apztJSmgERYU8fZOjI4pOg** writefds, NI timeout);
int osInvalidSocket_voz9aUXu8jtRbvGZZJHNE8w;
sa_family_t nativeAfInet_rQwsjQjVqXvdaL9aZofzWwg;
sa_family_t nativeAfInet6_Da6PongZL9aJxBrf7qeBmfA;
extern TFrame* framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
extern TNimType NTI_HX2M9cQhE3jaovp9aYJDdslA_;
extern TNimType NTI_9czoZw3pzPyrBmb5zTHY1OQ_;
extern tyObject_GcHeap_1TRH1TZMaVZTnLNcIHuNFQ gch_IcYaEuuWivYAS86vFMTS3Q;
TNimType NTI_Q79bEtFARvq0ekDNtvj3Vqg_;
TNimType NTI_NQT1bItGG2X9byGdrWX7ujw_;
TNimType NTI_dqJ1OqRGclxIMMdSLRzzXg_;
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_2, "Service not found.", 18);
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_3, "unknown h_addrtype", 18);
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4, "", 0);
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_5, "unknown socket family in getSockFamily", 38);
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_6, "Unknown socket family in getAddrString", 38);
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_7, "invalid socket family in getLocalAddr", 37);
STRING_LITERAL(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_13, "len(a) == L seq modified while iterating over it", 48);

static N_INLINE(NI, chckRange)(NI i, NI a, NI b) {
	NI result;
{	result = (NI)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (a <= i);
		if (!(T3_)) goto LA4_;
		T3_ = (i <= b);
		LA4_: ;
		if (!T3_) goto LA5_;
		result = i;
		goto BeforeRet_;
	}
	goto LA1_;
	LA5_: ;
	{
		raiseRangeError(((NI64) (i)));
	}
	LA1_: ;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(void, nimFrame)(TFrame* s) {
	NI T1_;
	T1_ = (NI)0;
	{
		if (!(framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw == NIM_NIL)) goto LA4_;
		T1_ = ((NI) 0);
	}
	goto LA2_;
	LA4_: ;
	{
		T1_ = ((NI) ((NI16)((*framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw).calldepth + ((NI16) 1))));
	}
	LA2_: ;
	(*s).calldepth = ((NI16) (T1_));
	(*s).prev = framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw;
	framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA9_;
		stackOverflow_II46IjNZztN9bmbxUD8dt8g();
	}
	LA9_: ;
}

static N_INLINE(void, popFrame)(void) {
	framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw = (*framePtr_HRfVMH3jYeBJz6Q6X9b6Ptw).prev;
}

N_NIMCALL(short, toInt_OxnVJkB3zYuSbbBvLQDSVA)(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain) {
	short result;
	nimfr_("toInt", "nativesockets.nim");
	result = (short)0;
	nimln_(129, "nativesockets.nim");
	switch (domain) {
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 0):
	{
		nimln_(130, "nativesockets.nim");
		result = ((short)chckRange(AF_UNSPEC, ((short) -32768), ((short) 32767)));
	}
	break;
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 1):
	{
		nimln_(131, "nativesockets.nim");
		result = ((short)chckRange(AF_UNIX, ((short) -32768), ((short) 32767)));
	}
	break;
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2):
	{
		nimln_(132, "nativesockets.nim");
		result = ((short)chckRange(AF_INET, ((short) -32768), ((short) 32767)));
	}
	break;
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30):
	{
		nimln_(133, "nativesockets.nim");
		result = ((short)chckRange(AF_INET6, ((short) -32768), ((short) 32767)));
	}
	break;
	}
	popFrame();
	return result;
}

N_NIMCALL(tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ, toKnownDomain_WoQ5UOyB2HAIoN15dknZCw)(int family) {
	tyObject_Option_V9bnQIoRETSshkjE1kDWuNQ result;
	nimfr_("toKnownDomain", "nativesockets.nim");
	memset((void*)(&result), 0, sizeof(result));
	nimln_(138, "nativesockets.nim");
	{
		if (!(family == AF_UNSPEC)) goto LA3_;
		result = some_JMiA9ccATJp8JunIrSlndYA(((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 0));
	}
	goto LA1_;
	LA3_: ;
	{
		nimln_(139, "nativesockets.nim");
		if (!(family == AF_UNIX)) goto LA6_;
		result = some_JMiA9ccATJp8JunIrSlndYA(((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 1));
	}
	goto LA1_;
	LA6_: ;
	{
		nimln_(140, "nativesockets.nim");
		if (!(family == AF_INET)) goto LA9_;
		result = some_JMiA9ccATJp8JunIrSlndYA(((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2));
	}
	goto LA1_;
	LA9_: ;
	{
		nimln_(141, "nativesockets.nim");
		if (!(family == AF_INET6)) goto LA12_;
		result = some_JMiA9ccATJp8JunIrSlndYA(((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30));
	}
	goto LA1_;
	LA12_: ;
	{
		nimln_(142, "nativesockets.nim");
		result = none_IBO7fiOVpMVOmhrZWFqq1A();
	}
	LA1_: ;
	popFrame();
	return result;
}

N_NIMCALL(int, toInt_0zBaW59cZQJVrz1L13Wid5g)(tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw typ) {
	int result;
	nimfr_("toInt", "nativesockets.nim");
	result = (int)0;
	nimln_(145, "nativesockets.nim");
	switch (typ) {
	case ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 1):
	{
		nimln_(146, "nativesockets.nim");
		result = SOCK_STREAM;
	}
	break;
	case ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 2):
	{
		nimln_(147, "nativesockets.nim");
		result = SOCK_DGRAM;
	}
	break;
	case ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 5):
	{
		nimln_(148, "nativesockets.nim");
		result = SOCK_SEQPACKET;
	}
	break;
	case ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 3):
	{
		nimln_(149, "nativesockets.nim");
		result = SOCK_RAW;
	}
	break;
	}
	popFrame();
	return result;
}

N_NIMCALL(int, toInt_slGFLM9cFJ086GOC2tjJphw)(tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg p) {
	int result;
	nimfr_("toInt", "nativesockets.nim");
	result = (int)0;
	nimln_(152, "nativesockets.nim");
	switch (p) {
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 6):
	{
		nimln_(153, "nativesockets.nim");
		result = IPPROTO_TCP;
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 17):
	{
		nimln_(154, "nativesockets.nim");
		result = IPPROTO_UDP;
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 18):
	{
		nimln_(155, "nativesockets.nim");
		result = IPPROTO_IP;
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 19):
	{
		nimln_(156, "nativesockets.nim");
		result = IPPROTO_IPV6;
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 20):
	{
		nimln_(157, "nativesockets.nim");
		result = IPPROTO_RAW;
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 21):
	{
		nimln_(158, "nativesockets.nim");
		result = IPPROTO_ICMP;
	}
	break;
	}
	popFrame();
	return result;
}

N_NIMCALL(tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw, toSockType_zz9bxu9cRa00a9b6j4pehnFgQ)(tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol) {
	tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw result;
	nimfr_("toSockType", "nativesockets.nim");
	result = (tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw)0;
	nimln_(179, "nativesockets.nim");
	switch (protocol) {
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 6):
	{
		result = ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 1);
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 17):
	{
		result = ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 2);
	}
	break;
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 18):
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 19):
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 20):
	case ((tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg) 21):
	{
		result = ((tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw) 3);
	}
	break;
	}
	popFrame();
	return result;
}

N_NIMCALL(int, newNativeSocket_P59cS8yz3VHsnoN6zylI5Lg)(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw sockType, tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol) {
	int result;
	short T1_;
	int T2_;
	int T3_;
	nimfr_("newNativeSocket", "nativesockets.nim");
	result = (int)0;
	nimln_(190, "nativesockets.nim");
	nimln_(191, "nativesockets.nim");
	T1_ = (short)0;
	T1_ = toInt_OxnVJkB3zYuSbbBvLQDSVA(domain);
	T2_ = (int)0;
	T2_ = toInt_0zBaW59cZQJVrz1L13Wid5g(sockType);
	T3_ = (int)0;
	T3_ = toInt_slGFLM9cFJ086GOC2tjJphw(protocol);
	result = socket(((int) (T1_)), T2_, T3_);
	popFrame();
	return result;
}

N_NIMCALL(int, newNativeSocket_xsLKpyGLgUgaTjiALlo5Kw)(int domain, int sockType, int protocol) {
	int result;
	nimfr_("newNativeSocket", "nativesockets.nim");
	result = (int)0;
	nimln_(195, "nativesockets.nim");
	nimln_(199, "nativesockets.nim");
	result = socket(domain, sockType, protocol);
	popFrame();
	return result;
}

N_NIMCALL(void, close_ODRNWwddsp7NVetdw9cXCVg)(int socket) {
	int T1_;
	nimfr_("close", "nativesockets.nim");
	nimln_(206, "nativesockets.nim");
	T1_ = (int)0;
	T1_ = close(socket);
	T1_;
	popFrame();
}

N_NIMCALL(int, bindAddr_zpvqU0KQkzbkoKaehnMX2A)(int socket, struct sockaddr* name, socklen_t namelen) {
	int result;
	nimfr_("bindAddr", "nativesockets.nim");
	result = (int)0;
	nimln_(211, "nativesockets.nim");
	result = bind(socket, name, namelen);
	popFrame();
	return result;
}

N_NIMCALL(int, listen_BNAD35QpM7R1C7EJRtAZ3Q)(int socket, int backlog) {
	int result;
	nimfr_("listen", "nativesockets.nim");
	result = (int)0;
	nimln_(220, "nativesockets.nim");
	result = listen(socket, backlog);
	popFrame();
	return result;
}

N_NIMCALL(struct addrinfo*, getAddrInfo_fNPnGAYqSzdc2OjHEcTTAw)(NimStringDesc* address, NU16 port, tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw sockType, tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg protocol) {
	struct addrinfo* result;
	struct addrinfo hints;
	short T1_;
	int gaiResult;
	NimStringDesc* T6_;
	nimfr_("getAddrInfo", "nativesockets.nim");
	result = (struct addrinfo*)0;
	memset((void*)(&hints), 0, sizeof(hints));
	nimln_(229, "nativesockets.nim");
	result = NIM_NIL;
	nimln_(230, "nativesockets.nim");
	T1_ = (short)0;
	T1_ = toInt_OxnVJkB3zYuSbbBvLQDSVA(domain);
	hints.ai_family = ((int) (T1_));
	nimln_(231, "nativesockets.nim");
	hints.ai_socktype = toInt_0zBaW59cZQJVrz1L13Wid5g(sockType);
	nimln_(232, "nativesockets.nim");
	hints.ai_protocol = toInt_slGFLM9cFJ086GOC2tjJphw(protocol);
	nimln_(237, "nativesockets.nim");
	{
		if (!(domain == ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30))) goto LA4_;
		nimln_(238, "nativesockets.nim");
		hints.ai_flags = AI_V4MAPPED;
	}
	LA4_: ;
	nimln_(239, "nativesockets.nim");
	T6_ = (NimStringDesc*)0;
	T6_ = dollar__rzAI8EMyNBAQwGODeohhAA(port);
	gaiResult = getaddrinfo(address->data, T6_->data, (&hints), &result);
	nimln_(240, "nativesockets.nim");
	{
		NI32 T11_;
		NCSTRING T12_;
		NimStringDesc* T13_;
		nimln_(378, "system.nim");
		nimln_(240, "nativesockets.nim");
		if (!!((gaiResult == ((NI32) 0)))) goto LA9_;
		nimln_(244, "nativesockets.nim");
		T11_ = (NI32)0;
		T11_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		T12_ = (NCSTRING)0;
		T12_ = (char *)gai_strerror(gaiResult);
		T13_ = (NimStringDesc*)0;
		T13_ = cstrToNimstr(T12_);
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T11_, T13_);
	}
	LA9_: ;
	popFrame();
	return result;
}

N_NIMCALL(void, dealloc_o4AP9bp2a6Md29bi289aWTZew)(struct addrinfo* ai) {
	nimfr_("dealloc", "nativesockets.nim");
	nimln_(248, "nativesockets.nim");
	freeaddrinfo(ai);
	popFrame();
}

N_NIMCALL(NU32, ntohl_RStKcIp64i7w9c4KBI2z46w)(NU32 x) {
	NU32 result;
	nimfr_("ntohl", "nativesockets.nim");
	result = (NU32)0;
	nimln_(256, "nativesockets.nim");
	nimln_(255, "nativesockets.nim");
	nimln_(256, "nativesockets.nim");
	nimln_(257, "nativesockets.nim");
	nimln_(258, "nativesockets.nim");
	result = (NU32)((NU32)((NU32)((NU32)((NU32)(x) >> (NU32)(((NU32) 24))) | (NU32)((NU32)((NU32)(x) >> (NU32)(((NU32) 8))) & ((NU32) 65280))) | (NU32)((NU32)((NU32)(x) << (NU32)(((NU32) 8))) & ((NU32) 16711680))) | (NU32)((NU32)(x) << (NU32)(((NU32) 24))));
	popFrame();
	return result;
}

N_NIMCALL(NU16, ntohs_hTWZ9cGeQnQNEThS6k8qUKg)(NU16 x) {
	NU16 result;
	nimfr_("ntohs", "nativesockets.nim");
	result = (NU16)0;
	nimln_(274, "nativesockets.nim");
	result = (NU16)((NU16)((NU16)(x) >> (NU16)(((NU16) 8))) | (NU16)((NU16)(x) << (NU16)(((NU16) 8))));
	popFrame();
	return result;
}

N_NIMCALL(void, getServByName_NNxs1hil5R9bGsNpctd3bfw)(NimStringDesc* name, NimStringDesc* proto, tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ* Result) {
	struct servent* s;
	nimfr_("getServByName", "nativesockets.nim");
	nimln_(324, "nativesockets.nim");
	s = getservbyname(name->data, proto->data);
	nimln_(325, "nativesockets.nim");
	{
		NI32 T5_;
		if (!(s == NIM_NIL)) goto LA3_;
		T5_ = (NI32)0;
		T5_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T5_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_2));
	}
	LA3_: ;
	nimln_(326, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).name), cstrToNimstr((*s).s_name));
	nimln_(327, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).aliases), cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg((*s).s_aliases));
	nimln_(328, "nativesockets.nim");
	(*Result).port = ((NU16) ((*s).s_port));
	nimln_(329, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).proto), cstrToNimstr((*s).s_proto));
	popFrame();
}

N_NIMCALL(void, getServByPort_UF7NNhoRARWyxcKKRnLExQ)(NU16 port, NimStringDesc* proto, tyObject_Servent_9ak3HAuy7nXhXlidAanTkdQ* Result) {
	struct servent* s;
	nimfr_("getServByPort", "nativesockets.nim");
	nimln_(340, "nativesockets.nim");
	s = getservbyport(((int)chckRange(((NI)(NU)(NU16)(((NI16)chckRange(port, ((NI16) -32768), ((NI16) 32767))))), ((int) (-2147483647 -1)), ((int) 2147483647))), proto->data);
	nimln_(341, "nativesockets.nim");
	{
		NI32 T5_;
		if (!(s == NIM_NIL)) goto LA3_;
		T5_ = (NI32)0;
		T5_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T5_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_2));
	}
	LA3_: ;
	nimln_(342, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).name), cstrToNimstr((*s).s_name));
	nimln_(343, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).aliases), cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg((*s).s_aliases));
	nimln_(344, "nativesockets.nim");
	(*Result).port = ((NU16) ((*s).s_port));
	nimln_(345, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).proto), cstrToNimstr((*s).s_proto));
	popFrame();
}

N_NIMCALL(void, getHostByAddr_am5EZHJJRqP8LgSJZcjXTw)(NimStringDesc* ip, tyObject_Hostent_azV1qb29cFIFe582aezrNAQ* Result) {
	struct in_addr myaddr;
	struct hostent* s;
	nimfr_("getHostByAddr", "nativesockets.nim");
	memset((void*)(&myaddr), 0, sizeof(myaddr));
	nimln_(350, "nativesockets.nim");
	myaddr.s_addr = inet_addr(ip->data);
	nimln_(357, "nativesockets.nim");
	nimln_(362, "nativesockets.nim");
	s = gethostbyaddr(((void*) ((&myaddr))), ((socklen_t) (((NI)sizeof(struct in_addr)))), AF_INET);
	nimln_(364, "nativesockets.nim");
	{
		NI32 T5_;
		NCSTRING T6_;
		NimStringDesc* T7_;
		if (!(s == NIM_NIL)) goto LA3_;
		nimln_(365, "nativesockets.nim");
		T5_ = (NI32)0;
		T5_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		T6_ = (NCSTRING)0;
		T6_ = (char *)hstrerror(h_errno);
		T7_ = (NimStringDesc*)0;
		T7_ = cstrToNimstr(T6_);
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T5_, T7_);
	}
	LA3_: ;
	nimln_(367, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).name), cstrToNimstr((*s).h_name));
	nimln_(368, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).aliases), cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg((*s).h_aliases));
	nimln_(372, "nativesockets.nim");
	{
		if (!((*s).h_addrtype == AF_INET)) goto LA10_;
		nimln_(373, "nativesockets.nim");
		(*Result).addrtype = ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2);
	}
	goto LA8_;
	LA10_: ;
	{
		nimln_(374, "nativesockets.nim");
		if (!((*s).h_addrtype == AF_INET6)) goto LA13_;
		nimln_(375, "nativesockets.nim");
		(*Result).addrtype = ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30);
	}
	goto LA8_;
	LA13_: ;
	{
		NI32 T16_;
		nimln_(377, "nativesockets.nim");
		T16_ = (NI32)0;
		T16_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T16_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_3));
	}
	LA8_: ;
	nimln_(378, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).addrList), cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg((*s).h_addr_list));
	nimln_(379, "nativesockets.nim");
	(*Result).length = ((NI) ((*s).h_length));
	popFrame();
}

N_NIMCALL(void, getHostByName_4pNvNBdh0QjXDN9aI1Jilqw)(NimStringDesc* name, tyObject_Hostent_azV1qb29cFIFe582aezrNAQ* Result) {
	struct hostent* s;
	nimfr_("getHostByName", "nativesockets.nim");
	nimln_(386, "nativesockets.nim");
	s = gethostbyname(name->data);
	nimln_(387, "nativesockets.nim");
	{
		NI32 T5_;
		if (!(s == NIM_NIL)) goto LA3_;
		T5_ = (NI32)0;
		T5_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T5_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	LA3_: ;
	nimln_(388, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).name), cstrToNimstr((*s).h_name));
	nimln_(389, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).aliases), cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg((*s).h_aliases));
	nimln_(393, "nativesockets.nim");
	{
		if (!((*s).h_addrtype == AF_INET)) goto LA8_;
		nimln_(394, "nativesockets.nim");
		(*Result).addrtype = ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2);
	}
	goto LA6_;
	LA8_: ;
	{
		nimln_(395, "nativesockets.nim");
		if (!((*s).h_addrtype == AF_INET6)) goto LA11_;
		nimln_(396, "nativesockets.nim");
		(*Result).addrtype = ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30);
	}
	goto LA6_;
	LA11_: ;
	{
		NI32 T14_;
		nimln_(398, "nativesockets.nim");
		T14_ = (NI32)0;
		T14_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T14_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_3));
	}
	LA6_: ;
	nimln_(399, "nativesockets.nim");
	unsureAsgnRef((void**) (&(*Result).addrList), cstringArrayToSeq_9csDN6Nz9aAfagut7AuPkswg((*s).h_addr_list));
	nimln_(400, "nativesockets.nim");
	(*Result).length = ((NI) ((*s).h_length));
	popFrame();
}

N_NIMCALL(NimStringDesc*, getHostname_yWWJQMhb0xdemcFTQgjbcQ)(void) {
	NimStringDesc* result;
	int success;
	NI x;
	nimfr_("getHostname", "nativesockets.nim");
	result = (NimStringDesc*)0;
	nimln_(407, "nativesockets.nim");
	result = mnewString(((NI) 64));
	nimln_(412, "nativesockets.nim");
	success = gethostname(result->data, ((NI) 64));
	nimln_(413, "nativesockets.nim");
	{
		NI32 T5_;
		nimln_(378, "system.nim");
		nimln_(413, "nativesockets.nim");
		if (!!((success == ((int) 0)))) goto LA3_;
		nimln_(414, "nativesockets.nim");
		T5_ = (NI32)0;
		T5_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T5_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	LA3_: ;
	nimln_(415, "nativesockets.nim");
	x = (result->data ? strlen(result->data) : 0);
	nimln_(416, "nativesockets.nim");
	result = setLengthStr(result, ((NI)chckRange(x, ((NI) 0), ((NI) IL64(9223372036854775807)))));
	popFrame();
	return result;
}

N_NIMCALL(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg, getSockDomain_j9cFma7L5fIBlpl9awGYA72A)(int socket) {
	tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg result;
	struct sockaddr_in6 name;
	socklen_t namelen;
	nimfr_("getSockDomain", "nativesockets.nim");
	result = (tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg)0;
	memset((void*)(&name), 0, sizeof(name));
	nimln_(421, "nativesockets.nim");
	namelen = ((socklen_t) (((NI)sizeof(struct sockaddr_in6))));
	nimln_(422, "nativesockets.nim");
	{
		int T3_;
		NI32 T6_;
		T3_ = (int)0;
		T3_ = getsockname(socket, ((struct sockaddr*) ((&name))), (&namelen));
		if (!(T3_ == ((NI32) -1))) goto LA4_;
		nimln_(424, "nativesockets.nim");
		T6_ = (NI32)0;
		T6_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T6_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	LA4_: ;
	nimln_(425, "nativesockets.nim");
	{
		if (!(name.sin6_family == nativeAfInet_rQwsjQjVqXvdaL9aZofzWwg)) goto LA9_;
		nimln_(426, "nativesockets.nim");
		result = ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2);
	}
	goto LA7_;
	LA9_: ;
	{
		nimln_(427, "nativesockets.nim");
		if (!(name.sin6_family == nativeAfInet6_Da6PongZL9aJxBrf7qeBmfA)) goto LA12_;
		nimln_(428, "nativesockets.nim");
		result = ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30);
	}
	goto LA7_;
	LA12_: ;
	{
		NI32 T15_;
		nimln_(430, "nativesockets.nim");
		T15_ = (NI32)0;
		T15_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T15_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_5));
	}
	LA7_: ;
	popFrame();
	return result;
}

static N_INLINE(NIM_BOOL, eqeq__9ccNWqrTIE9bcAqE2Q0ro7zgsystem)(NCSTRING x, NCSTRING y) {
	NIM_BOOL result;
	nimfr_("==", "system.nim");
	result = (NIM_BOOL)0;
	nimln_(3849, "system.nim");
	{
		if (!(((void*) (x)) == ((void*) (y)))) goto LA3_;
		result = NIM_TRUE;
	}
	goto LA1_;
	LA3_: ;
	{
		NIM_BOOL T6_;
		nimln_(3850, "system.nim");
		T6_ = (NIM_BOOL)0;
		T6_ = (x == 0);
		if (T6_) goto LA7_;
		T6_ = (y == 0);
		LA7_: ;
		if (!T6_) goto LA8_;
		result = NIM_FALSE;
	}
	goto LA1_;
	LA8_: ;
	{
		int T11_;
		nimln_(3851, "system.nim");
		T11_ = (int)0;
		T11_ = strcmp(x, y);
		result = (T11_ == ((NI32) 0));
	}
	LA1_: ;
	popFrame();
	return result;
}

static N_INLINE(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem)(void* usr) {
	tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* result;
	nimfr_("usrToCell", "gc.nim");
	result = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
	nimln_(138, "gc.nim");
	result = ((tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*) ((NI)((NU64)(((NI) (usr))) - (NU64)(((NI)sizeof(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g))))));
	popFrame();
	return result;
}

static N_INLINE(void, rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	nimfr_("rtlAddZCT", "gc.nim");
	nimln_(216, "gc.nim");
	addZCT_fCDI7oO1NNVXXURtxSzsRw((&gch_IcYaEuuWivYAS86vFMTS3Q.zct), c);
	popFrame();
}

static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c;
	nimfr_("nimGCunrefNoCycle", "gc.nim");
	nimln_(255, "gc.nim");
	c = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem(p);
	nimln_(257, "gc.nim");
	{
		(*c).refcount -= ((NI) 8);
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3_;
		nimln_(258, "gc.nim");
		rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system(c);
	}
	LA3_: ;
	popFrame();
}

static N_INLINE(void, incRef_9cAA5YuQAAC3MVbnGeV86swsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	nimfr_("incRef", "gc.nim");
	nimln_(196, "gc.nim");
	(*c).refcount = (NI)((NU64)((*c).refcount) + (NU64)(((NI) 8)));
	popFrame();
}

static N_INLINE(void, decRef_MV4BBk6J1qu70IbBxwEn4wsystem)(tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* c) {
	nimfr_("decRef", "gc.nim");
	nimln_(223, "gc.nim");
	{
		(*c).refcount -= ((NI) 8);
		if (!((NU64)((*c).refcount) < (NU64)(((NI) 8)))) goto LA3_;
		nimln_(224, "gc.nim");
		rtlAddZCT_MV4BBk6J1qu70IbBxwEn4w_2system(c);
	}
	LA3_: ;
	popFrame();
}

static N_INLINE(void, asgnRef)(void** dest, void* src) {
	nimfr_("asgnRef", "gc.nim");
	nimln_(269, "gc.nim");
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* T5_;
		nimln_(378, "system.nim");
		nimln_(269, "gc.nim");
		if (!!((src == NIM_NIL))) goto LA3_;
		T5_ = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
		T5_ = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem(src);
		incRef_9cAA5YuQAAC3MVbnGeV86swsystem(T5_);
	}
	LA3_: ;
	nimln_(270, "gc.nim");
	{
		tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g* T10_;
		nimln_(378, "system.nim");
		nimln_(270, "gc.nim");
		if (!!(((*dest) == NIM_NIL))) goto LA8_;
		T10_ = (tyObject_Cell_1zcF9cV8XIAtbN8h5HRUB8g*)0;
		T10_ = usrToCell_yB9aH5WIlwd0xkYrcdPeXrQsystem((*dest));
		decRef_MV4BBk6J1qu70IbBxwEn4wsystem(T10_);
	}
	LA8_: ;
	nimln_(271, "gc.nim");
	(*dest) = src;
	popFrame();
}

N_NIMCALL(NimStringDesc*, getAddrString_wIS6MR5PrZV5s3d85jE2nw)(struct sockaddr* sockAddr) {
	NimStringDesc* result;
	nimfr_("getAddrString", "nativesockets.nim");
	result = (NimStringDesc*)0;
	nimln_(435, "nativesockets.nim");
	{
		NCSTRING T5_;
		if (!((*sockAddr).sa_family == nativeAfInet_rQwsjQjVqXvdaL9aZofzWwg)) goto LA3_;
		nimln_(436, "nativesockets.nim");
		T5_ = (NCSTRING)0;
		T5_ = inet_ntoa((*((struct sockaddr_in*) (sockAddr))).sin_addr);
		result = cstrToNimstr(T5_);
	}
	goto LA1_;
	LA3_: ;
	{
		int addrLen;
		struct in6_addr* addr6;
		nimln_(437, "nativesockets.nim");
		if (!((*sockAddr).sa_family == nativeAfInet6_Da6PongZL9aJxBrf7qeBmfA)) goto LA7_;
		nimln_(438, "nativesockets.nim");
		addrLen = INET6_ADDRSTRLEN;
		nimln_(440, "nativesockets.nim");
		result = mnewString(((NI)chckRange(addrLen, ((NI) 0), ((NI) IL64(9223372036854775807)))));
		nimln_(441, "nativesockets.nim");
		addr6 = (&(*((struct sockaddr_in6*) (sockAddr))).sin6_addr);
		nimln_(443, "nativesockets.nim");
		{
			NCSTRING T11_;
			NIM_BOOL T12_;
			NI32 T15_;
			if ((NU)(((NI) 0)) > (NU)(result->Sup.len)) raiseIndexError();
			nimln_(444, "nativesockets.nim");
			T11_ = (NCSTRING)0;
			T11_ = (char *)inet_ntop(AF_INET6, ((void*) (addr6)), ((NCSTRING) ((&result->data[((NI) 0)]))), ((NI32)chckRange((result ? result->Sup.len : 0), ((NI32) (-2147483647 -1)), ((NI32) 2147483647))));
			T12_ = (NIM_BOOL)0;
			T12_ = eqeq__9ccNWqrTIE9bcAqE2Q0ro7zgsystem(T11_, NIM_NIL);
			if (!T12_) goto LA13_;
			nimln_(445, "nativesockets.nim");
			T15_ = (NI32)0;
			T15_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T15_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA13_: ;
		nimln_(446, "nativesockets.nim");
		{
			int T18_;
			nimln_(378, "system.nim");
			nimln_(446, "nativesockets.nim");
			T18_ = (int)0;
			T18_ = IN6_IS_ADDR_V4MAPPED(addr6);
			if (!!((T18_ == ((NI32) 0)))) goto LA19_;
			nimln_(447, "nativesockets.nim");
			result = copyStr(result, ((NI) 7));
		}
		LA19_: ;
		nimln_(452, "nativesockets.nim");
		result = setLengthStr(result, ((NI)chckRange((result->data ? strlen(result->data) : 0), ((NI) 0), ((NI) IL64(9223372036854775807)))));
	}
	goto LA1_;
	LA7_: ;
	{
		tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ* e;
		NimStringDesc* T22_;
		e = (tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ*)0;
		nimln_(2702, "system.nim");
		e = (tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ*) newObj((&NTI_HX2M9cQhE3jaovp9aYJDdslA_), sizeof(tyObject_IOError_9czoZw3pzPyrBmb5zTHY1OQ));
		(*e).Sup.Sup.Sup.m_type = (&NTI_9czoZw3pzPyrBmb5zTHY1OQ_);
		nimln_(454, "nativesockets.nim");
		T22_ = (NimStringDesc*)0;
		T22_ = (*e).Sup.Sup.message; (*e).Sup.Sup.message = copyStringRC1(((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_6));
		if (T22_) nimGCunrefNoCycle(T22_);
		nimln_(2697, "system.nim");
		asgnRef((void**) (&(*e).Sup.Sup.parent), NIM_NIL);
		nimln_(454, "nativesockets.nim");
		raiseException((Exception*)e, "IOError");
	}
	LA1_: ;
	popFrame();
	return result;
}

N_NIMCALL(NU16, getSockName_VJAFVIID7Gi09bNUDgo9aXuA)(int socket) {
	NU16 result;
	struct sockaddr_in name;
	socklen_t namelen;
	nimfr_("getSockName", "nativesockets.nim");
	result = (NU16)0;
	memset((void*)(&name), 0, sizeof(name));
	nimln_(462, "nativesockets.nim");
	name.sin_family = AF_INET;
	nimln_(465, "nativesockets.nim");
	namelen = ((socklen_t) (((NI)sizeof(struct sockaddr_in))));
	nimln_(466, "nativesockets.nim");
	{
		int T3_;
		NI32 T6_;
		T3_ = (int)0;
		T3_ = getsockname(socket, ((struct sockaddr*) ((&name))), (&namelen));
		if (!(T3_ == ((NI32) -1))) goto LA4_;
		nimln_(468, "nativesockets.nim");
		T6_ = (NI32)0;
		T6_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T6_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	LA4_: ;
	nimln_(469, "nativesockets.nim");
	result = ntohs_hTWZ9cGeQnQNEThS6k8qUKg(name.sin_port);
	popFrame();
	return result;
}

N_NIMCALL(void, getLocalAddr_IA9aPOAIFL0HA7Wl9c0gWEEg)(int socket, tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyTuple_J0FzjuY02DFObU1sQZLwJA* Result) {
	nimfr_("getLocalAddr", "nativesockets.nim");
	nimln_(475, "nativesockets.nim");
	switch (domain) {
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2):
	{
		struct sockaddr_in name;
		socklen_t namelen;
		NCSTRING T8_;
		memset((void*)(&name), 0, sizeof(name));
		nimln_(481, "nativesockets.nim");
		name.sin_family = AF_INET;
		nimln_(482, "nativesockets.nim");
		namelen = ((socklen_t) (((NI)sizeof(struct sockaddr_in))));
		nimln_(483, "nativesockets.nim");
		{
			int T4_;
			NI32 T7_;
			T4_ = (int)0;
			T4_ = getsockname(socket, ((struct sockaddr*) ((&name))), (&namelen));
			if (!(T4_ == ((NI32) -1))) goto LA5_;
			nimln_(485, "nativesockets.nim");
			T7_ = (NI32)0;
			T7_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T7_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA5_: ;
		nimln_(486, "nativesockets.nim");
		T8_ = (NCSTRING)0;
		T8_ = inet_ntoa(name.sin_addr);
		unsureAsgnRef((void**) (&(*Result).Field0), cstrToNimstr(T8_));
		nimln_(487, "nativesockets.nim");
		(*Result).Field1 = ntohs_hTWZ9cGeQnQNEThS6k8qUKg(name.sin_port);
	}
	break;
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30):
	{
		struct sockaddr_in6 name_2;
		socklen_t namelen_2;
		tyArray_2cWMSJoP9cqN4yIK0ILkQaQ buf;
		memset((void*)(&name_2), 0, sizeof(name_2));
		nimln_(493, "nativesockets.nim");
		name_2.sin6_family = AF_INET6;
		nimln_(494, "nativesockets.nim");
		namelen_2 = ((socklen_t) (((NI)sizeof(struct sockaddr_in6))));
		nimln_(495, "nativesockets.nim");
		{
			int T12_;
			NI32 T15_;
			T12_ = (int)0;
			T12_ = getsockname(socket, ((struct sockaddr*) ((&name_2))), (&namelen_2));
			if (!(T12_ == ((NI32) -1))) goto LA13_;
			nimln_(497, "nativesockets.nim");
			T15_ = (NI32)0;
			T15_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T15_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA13_: ;
		memset((void*)buf, 0, sizeof(buf));
		nimln_(500, "nativesockets.nim");
		{
			NCSTRING T18_;
			NI32 T21_;
			nimln_(501, "nativesockets.nim");
			T18_ = (NCSTRING)0;
			T18_ = (char *)inet_ntop(name_2.sin6_family, ((void*) ((&name_2))), ((NCSTRING) (buf)), ((NI32)chckRange(((NI)sizeof(tyArray_2cWMSJoP9cqN4yIK0ILkQaQ)), ((NI32) (-2147483647 -1)), ((NI32) 2147483647))));
			if (!(T18_ == 0)) goto LA19_;
			nimln_(502, "nativesockets.nim");
			T21_ = (NI32)0;
			T21_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T21_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA19_: ;
		nimln_(503, "nativesockets.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), cstrToNimstr(((NCSTRING) (buf))));
		(*Result).Field1 = ntohs_hTWZ9cGeQnQNEThS6k8qUKg(name_2.sin6_port);
	}
	break;
	default:
	{
		nimln_(505, "nativesockets.nim");
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(((NI32) -1), ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_7));
	}
	break;
	}
	popFrame();
}

N_NIMCALL(void, getPeerAddr_IA9aPOAIFL0HA7Wl9c0gWEEg_2)(int socket, tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg domain, tyTuple_J0FzjuY02DFObU1sQZLwJA* Result) {
	nimfr_("getPeerAddr", "nativesockets.nim");
	nimln_(511, "nativesockets.nim");
	switch (domain) {
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 2):
	{
		struct sockaddr_in name;
		socklen_t namelen;
		NCSTRING T8_;
		memset((void*)(&name), 0, sizeof(name));
		nimln_(517, "nativesockets.nim");
		name.sin_family = AF_INET;
		nimln_(518, "nativesockets.nim");
		namelen = ((socklen_t) (((NI)sizeof(struct sockaddr_in))));
		nimln_(519, "nativesockets.nim");
		{
			int T4_;
			NI32 T7_;
			T4_ = (int)0;
			T4_ = getpeername(socket, ((struct sockaddr*) ((&name))), (&namelen));
			if (!(T4_ == ((NI32) -1))) goto LA5_;
			nimln_(521, "nativesockets.nim");
			T7_ = (NI32)0;
			T7_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T7_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA5_: ;
		nimln_(522, "nativesockets.nim");
		T8_ = (NCSTRING)0;
		T8_ = inet_ntoa(name.sin_addr);
		unsureAsgnRef((void**) (&(*Result).Field0), cstrToNimstr(T8_));
		nimln_(523, "nativesockets.nim");
		(*Result).Field1 = ntohs_hTWZ9cGeQnQNEThS6k8qUKg(name.sin_port);
	}
	break;
	case ((tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg) 30):
	{
		struct sockaddr_in6 name_2;
		socklen_t namelen_2;
		tyArray_2cWMSJoP9cqN4yIK0ILkQaQ buf;
		memset((void*)(&name_2), 0, sizeof(name_2));
		nimln_(529, "nativesockets.nim");
		name_2.sin6_family = AF_INET6;
		nimln_(530, "nativesockets.nim");
		namelen_2 = ((socklen_t) (((NI)sizeof(struct sockaddr_in6))));
		nimln_(531, "nativesockets.nim");
		{
			int T12_;
			NI32 T15_;
			T12_ = (int)0;
			T12_ = getpeername(socket, ((struct sockaddr*) ((&name_2))), (&namelen_2));
			if (!(T12_ == ((NI32) -1))) goto LA13_;
			nimln_(533, "nativesockets.nim");
			T15_ = (NI32)0;
			T15_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T15_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA13_: ;
		memset((void*)buf, 0, sizeof(buf));
		nimln_(536, "nativesockets.nim");
		{
			NCSTRING T18_;
			NI32 T21_;
			nimln_(537, "nativesockets.nim");
			T18_ = (NCSTRING)0;
			T18_ = (char *)inet_ntop(name_2.sin6_family, ((void*) ((&name_2))), ((NCSTRING) (buf)), ((NI32)chckRange(((NI)sizeof(tyArray_2cWMSJoP9cqN4yIK0ILkQaQ)), ((NI32) (-2147483647 -1)), ((NI32) 2147483647))));
			if (!(T18_ == 0)) goto LA19_;
			nimln_(538, "nativesockets.nim");
			T21_ = (NI32)0;
			T21_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T21_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA19_: ;
		nimln_(539, "nativesockets.nim");
		unsureAsgnRef((void**) (&(*Result).Field0), cstrToNimstr(((NCSTRING) (buf))));
		(*Result).Field1 = ntohs_hTWZ9cGeQnQNEThS6k8qUKg(name_2.sin6_port);
	}
	break;
	default:
	{
		nimln_(541, "nativesockets.nim");
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(((NI32) -1), ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_7));
	}
	break;
	}
	popFrame();
}

N_NIMCALL(NI, getSockOptInt_7ZeTYMZbCWxCnrevsvDH2g)(int socket, NI level, NI optname) {
	NI result;
	int res;
	socklen_t size;
	nimfr_("getSockOptInt", "nativesockets.nim");
	result = (NI)0;
	res = (int)0;
	nimln_(547, "nativesockets.nim");
	size = ((socklen_t) 4);
	nimln_(548, "nativesockets.nim");
	{
		int T3_;
		NI32 T6_;
		T3_ = (int)0;
		T3_ = getsockopt(socket, ((int)chckRange(level, ((int) (-2147483647 -1)), ((int) 2147483647))), ((int)chckRange(optname, ((int) (-2147483647 -1)), ((int) 2147483647))), ((void*) ((&res))), (&size));
		if (!(T3_ < ((NI32) 0))) goto LA4_;
		nimln_(550, "nativesockets.nim");
		T6_ = (NI32)0;
		T6_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T6_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	LA4_: ;
	nimln_(551, "nativesockets.nim");
	result = ((NI) (res));
	popFrame();
	return result;
}

N_NIMCALL(void, setSockOptInt_AD4OLBf5FHlJkAgq7B9aY5A)(int socket, NI level, NI optname, NI optval) {
	int value;
	nimfr_("setSockOptInt", "nativesockets.nim");
	nimln_(556, "nativesockets.nim");
	value = ((int)chckRange(optval, ((int) (-2147483647 -1)), ((int) 2147483647)));
	nimln_(557, "nativesockets.nim");
	{
		int T3_;
		NI32 T6_;
		T3_ = (int)0;
		T3_ = setsockopt(socket, ((int)chckRange(level, ((int) (-2147483647 -1)), ((int) 2147483647))), ((int)chckRange(optname, ((int) (-2147483647 -1)), ((int) 2147483647))), ((void*) ((&value))), ((socklen_t) 4));
		if (!(T3_ < ((NI32) 0))) goto LA4_;
		nimln_(559, "nativesockets.nim");
		T6_ = (NI32)0;
		T6_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T6_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	LA4_: ;
	popFrame();
}

N_NIMCALL(void, setBlocking_RBApwF6paZ4dy39bsxU85TA)(int s, NIM_BOOL blocking) {
	NI x;
	int T1_;
	nimfr_("setBlocking", "nativesockets.nim");
	nimln_(570, "nativesockets.nim");
	T1_ = (int)0;
	T1_ = fcntl(s, F_GETFL, ((NI) 0));
	x = ((NI) (T1_));
	nimln_(571, "nativesockets.nim");
	{
		NI32 T6_;
		if (!(x == ((NI) -1))) goto LA4_;
		nimln_(572, "nativesockets.nim");
		T6_ = (NI32)0;
		T6_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
		raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T6_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
	}
	goto LA2_;
	LA4_: ;
	{
		NI mode;
		nimln_(574, "nativesockets.nim");
		{
			if (!blocking) goto LA10_;
			mode = (NI)(x & ((NI) ((NI32)((NU32) ~(O_NONBLOCK)))));
		}
		goto LA8_;
		LA10_: ;
		{
			mode = (NI)(x | ((NI) (O_NONBLOCK)));
		}
		LA8_: ;
		nimln_(575, "nativesockets.nim");
		{
			int T15_;
			NI32 T18_;
			T15_ = (int)0;
			T15_ = fcntl(s, F_SETFL, mode);
			if (!(T15_ == ((NI32) -1))) goto LA16_;
			nimln_(576, "nativesockets.nim");
			T18_ = (NI32)0;
			T18_ = osLastError_tNPXXFl9cb3BG0pJKzUn9bew();
			raiseOSError_bEwAamo1N7TKcaU9akpiyIg(T18_, ((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_4));
		}
		LA16_: ;
	}
	LA2_: ;
	popFrame();
}

static N_INLINE(NI, divInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	{
		if (!(b == ((NI) 0))) goto LA3_;
		raiseDivByZero();
	}
	LA3_: ;
	{
		NIM_BOOL T7_;
		T7_ = (NIM_BOOL)0;
		T7_ = (a == ((NI) (IL64(-9223372036854775807) - IL64(1))));
		if (!(T7_)) goto LA8_;
		T7_ = (b == ((NI) -1));
		LA8_: ;
		if (!T7_) goto LA9_;
		raiseOverflow();
	}
	LA9_: ;
	result = (NI)(a / b);
	goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}

static N_INLINE(NI, subInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	result = (NI)((NU64)(a) - (NU64)(b));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (((NI) 0) <= (NI)(result ^ a));
		if (T3_) goto LA4_;
		T3_ = (((NI) 0) <= (NI)(result ^ (NI)((NU64) ~(b))));
		LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
	LA5_: ;
	raiseOverflow();
	}BeforeRet_: ;
	return result;
}

N_NIMCALL(struct timeval, timeValFromMilliseconds_X7JbWdPaNDQPHMVB9aPz9bkQ)(NI timeout) {
	struct timeval result;
	nimfr_("timeValFromMilliseconds", "nativesockets.nim");
	memset((void*)(&result), 0, sizeof(result));
	nimln_(579, "nativesockets.nim");
	{
		NI seconds;
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_8;
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_9;
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_10;
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_11;
		nimln_(378, "system.nim");
		nimln_(579, "nativesockets.nim");
		if (!!((timeout == ((NI) -1)))) goto LA3_;
		nimln_(580, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_8 = divInt(timeout, ((NI) 1000));
		seconds = (NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_8);
		nimln_(581, "nativesockets.nim");
		result.tv_sec = ((NI) (((NI32)chckRange(seconds, ((NI32) (-2147483647 -1)), ((NI32) 2147483647)))));
		nimln_(582, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_9 = mulInt(seconds, ((NI) 1000));
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_10 = subInt(timeout, (NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_9));
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_11 = mulInt((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_10), ((NI) 1000));
		result.tv_usec = ((NI) (((NI32)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_11), ((NI32) (-2147483647 -1)), ((NI32) 2147483647)))));
	}
	LA3_: ;
	popFrame();
	return result;
}

static N_INLINE(NI, addInt)(NI a, NI b) {
	NI result;
{	result = (NI)0;
	result = (NI)((NU64)(a) + (NU64)(b));
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (((NI) 0) <= (NI)(result ^ a));
		if (T3_) goto LA4_;
		T3_ = (((NI) 0) <= (NI)(result ^ b));
		LA4_: ;
		if (!T3_) goto LA5_;
		goto BeforeRet_;
	}
	LA5_: ;
	raiseOverflow();
	}BeforeRet_: ;
	return result;
}

N_NIMCALL(void, createFdSet_2WN0c6XLlKabdgianu73bg)(fd_set* fd, tySequence_9apztJSmgERYU8fZOjI4pOg* s, NI* m) {
	nimfr_("createFdSet", "nativesockets.nim");
	nimln_(585, "nativesockets.nim");
	FD_ZERO(fd);
	{
		int i;
		NI i_2;
		NI L;
		NI T2_;
		i = (int)0;
		nimln_(3639, "system.nim");
		i_2 = ((NI) 0);
		nimln_(3640, "system.nim");
		T2_ = (s ? s->Sup.len : 0);
		L = T2_;
		{
			nimln_(3641, "system.nim");
			while (1) {
				NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_12;
				if (!(i_2 < L)) goto LA4;
				nimln_(3642, "system.nim");
				if ((NU)(i_2) >= (NU)(s->Sup.len)) raiseIndexError();
				i = s->data[i_2];
				nimln_(587, "nativesockets.nim");
				(*m) = (((*m) >= ((NI) (i))) ? (*m) : ((NI) (i)));
				nimln_(588, "nativesockets.nim");
				FD_SET(i, fd);
				nimln_(3643, "system.nim");
				TM_f9bP3LqjpgpB9cXL8Nnak7tQ_12 = addInt(i_2, ((NI) 1));
				i_2 = (NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_12);
				nimln_(3644, "system.nim");
				{
					NI T7_;
					T7_ = (s ? s->Sup.len : 0);
					if (!!((T7_ == L))) goto LA8_;
					failedAssertImpl_aDmpBTs9cPuXp0Mp9cfiNeyA(((NimStringDesc*) &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_13));
				}
				LA8_: ;
			} LA4: ;
		}
	}
	popFrame();
}

N_NIMCALL(void, pruneSocketSet_1LwJOFdSmq6EdasZp5EGUA)(tySequence_9apztJSmgERYU8fZOjI4pOg** s, fd_set* fd) {
	NI i;
	NI L;
	NI T1_;
	nimfr_("pruneSocketSet", "nativesockets.nim");
	nimln_(591, "nativesockets.nim");
	i = ((NI) 0);
	nimln_(592, "nativesockets.nim");
	T1_ = ((*s) ? (*s)->Sup.len : 0);
	L = T1_;
	{
		nimln_(593, "nativesockets.nim");
		while (1) {
			if (!(i < L)) goto LA3;
			nimln_(594, "nativesockets.nim");
			{
				int T6_;
				NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_14;
				NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_15;
				if ((NU)(i) >= (NU)((*s)->Sup.len)) raiseIndexError();
				T6_ = (int)0;
				T6_ = FD_ISSET((*s)->data[i], fd);
				if (!(T6_ == ((NI32) 0))) goto LA7_;
				if ((NU)(i) >= (NU)((*s)->Sup.len)) raiseIndexError();
				nimln_(595, "nativesockets.nim");
				TM_f9bP3LqjpgpB9cXL8Nnak7tQ_14 = subInt(L, ((NI) 1));
				if ((NU)((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_14)) >= (NU)((*s)->Sup.len)) raiseIndexError();
				(*s)->data[i] = (*s)->data[(NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_14)];
				nimln_(596, "nativesockets.nim");
				TM_f9bP3LqjpgpB9cXL8Nnak7tQ_15 = subInt(L, ((NI) 1));
				L = (NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_15);
			}
			goto LA4_;
			LA7_: ;
			{
				NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_16;
				nimln_(598, "nativesockets.nim");
				TM_f9bP3LqjpgpB9cXL8Nnak7tQ_16 = addInt(i, ((NI) 1));
				i = (NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_16);
			}
			LA4_: ;
		} LA3: ;
	}
	nimln_(599, "nativesockets.nim");
	(*s) = (tySequence_9apztJSmgERYU8fZOjI4pOg*) setLengthSeq(&((*s))->Sup, sizeof(int), ((NI)chckRange(L, ((NI) 0), ((NI) IL64(9223372036854775807)))));
	popFrame();
}

N_NIMCALL(NI, select_f1UV2yno269c9cyjR0CwiQwg)(tySequence_9apztJSmgERYU8fZOjI4pOg** readfds, NI timeout) {
	NI result;
	struct timeval tv;
	fd_set rd;
	NI m;
	nimfr_("select", "nativesockets.nim");
	result = (NI)0;
	nimln_(611, "nativesockets.nim");
	tv = timeValFromMilliseconds_X7JbWdPaNDQPHMVB9aPz9bkQ(timeout);
	memset((void*)(&rd), 0, sizeof(rd));
	nimln_(614, "nativesockets.nim");
	m = ((NI) 0);
	nimln_(615, "nativesockets.nim");
	createFdSet_2WN0c6XLlKabdgianu73bg((&rd), (*readfds), (&m));
	nimln_(617, "nativesockets.nim");
	{
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_17;
		int T5_;
		nimln_(378, "system.nim");
		nimln_(617, "nativesockets.nim");
		if (!!((timeout == ((NI) -1)))) goto LA3_;
		nimln_(618, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_17 = addInt(m, ((NI) 1));
		T5_ = (int)0;
		T5_ = select(((int)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_17), ((int) (-2147483647 -1)), ((int) 2147483647))), (&rd), NIM_NIL, NIM_NIL, (&tv));
		result = ((NI) (T5_));
	}
	goto LA1_;
	LA3_: ;
	{
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_18;
		int T7_;
		nimln_(620, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_18 = addInt(m, ((NI) 1));
		T7_ = (int)0;
		T7_ = select(((int)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_18), ((int) (-2147483647 -1)), ((int) 2147483647))), (&rd), NIM_NIL, NIM_NIL, NIM_NIL);
		result = ((NI) (T7_));
	}
	LA1_: ;
	nimln_(622, "nativesockets.nim");
	pruneSocketSet_1LwJOFdSmq6EdasZp5EGUA(readfds, (&rd));
	popFrame();
	return result;
}

N_NIMCALL(NI, selectRead_f1UV2yno269c9cyjR0CwiQwg_2)(tySequence_9apztJSmgERYU8fZOjI4pOg** readfds, NI timeout) {
	NI result;
	struct timeval tv;
	fd_set rd;
	NI m;
	nimfr_("selectRead", "nativesockets.nim");
	result = (NI)0;
	nimln_(632, "nativesockets.nim");
	tv = timeValFromMilliseconds_X7JbWdPaNDQPHMVB9aPz9bkQ(timeout);
	memset((void*)(&rd), 0, sizeof(rd));
	nimln_(635, "nativesockets.nim");
	m = ((NI) 0);
	nimln_(636, "nativesockets.nim");
	createFdSet_2WN0c6XLlKabdgianu73bg((&rd), (*readfds), (&m));
	nimln_(638, "nativesockets.nim");
	{
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_19;
		int T5_;
		nimln_(378, "system.nim");
		nimln_(638, "nativesockets.nim");
		if (!!((timeout == ((NI) -1)))) goto LA3_;
		nimln_(639, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_19 = addInt(m, ((NI) 1));
		T5_ = (int)0;
		T5_ = select(((int)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_19), ((int) (-2147483647 -1)), ((int) 2147483647))), (&rd), NIM_NIL, NIM_NIL, (&tv));
		result = ((NI) (T5_));
	}
	goto LA1_;
	LA3_: ;
	{
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_20;
		int T7_;
		nimln_(641, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_20 = addInt(m, ((NI) 1));
		T7_ = (int)0;
		T7_ = select(((int)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_20), ((int) (-2147483647 -1)), ((int) 2147483647))), (&rd), NIM_NIL, NIM_NIL, NIM_NIL);
		result = ((NI) (T7_));
	}
	LA1_: ;
	nimln_(643, "nativesockets.nim");
	pruneSocketSet_1LwJOFdSmq6EdasZp5EGUA(readfds, (&rd));
	popFrame();
	return result;
}

N_NIMCALL(NI, selectWrite_Mynm9aGCt9cFsRIL52XLwFaw)(tySequence_9apztJSmgERYU8fZOjI4pOg** writefds, NI timeout) {
	NI result;
	struct timeval tv;
	fd_set wr;
	NI m;
	nimfr_("selectWrite", "nativesockets.nim");
	result = (NI)0;
	nimln_(654, "nativesockets.nim");
	tv = timeValFromMilliseconds_X7JbWdPaNDQPHMVB9aPz9bkQ(timeout);
	memset((void*)(&wr), 0, sizeof(wr));
	nimln_(657, "nativesockets.nim");
	m = ((NI) 0);
	nimln_(658, "nativesockets.nim");
	createFdSet_2WN0c6XLlKabdgianu73bg((&wr), (*writefds), (&m));
	nimln_(660, "nativesockets.nim");
	{
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_21;
		int T5_;
		nimln_(378, "system.nim");
		nimln_(660, "nativesockets.nim");
		if (!!((timeout == ((NI) -1)))) goto LA3_;
		nimln_(661, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_21 = addInt(m, ((NI) 1));
		T5_ = (int)0;
		T5_ = select(((int)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_21), ((int) (-2147483647 -1)), ((int) 2147483647))), NIM_NIL, (&wr), NIM_NIL, (&tv));
		result = ((NI) (T5_));
	}
	goto LA1_;
	LA3_: ;
	{
		NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_22;
		int T7_;
		nimln_(663, "nativesockets.nim");
		TM_f9bP3LqjpgpB9cXL8Nnak7tQ_22 = addInt(m, ((NI) 1));
		T7_ = (int)0;
		T7_ = select(((int)chckRange((NI)(TM_f9bP3LqjpgpB9cXL8Nnak7tQ_22), ((int) (-2147483647 -1)), ((int) 2147483647))), NIM_NIL, (&wr), NIM_NIL, NIM_NIL);
		result = ((NI) (T7_));
	}
	LA1_: ;
	nimln_(665, "nativesockets.nim");
	pruneSocketSet_1LwJOFdSmq6EdasZp5EGUA(writefds, (&wr));
	popFrame();
	return result;
}
NIM_EXTERNC N_NOINLINE(void, stdlib_nativesocketsInit000)(void) {
	nimfr_("nativesockets", "nativesockets.nim");
	nimln_(108, "nativesockets.nim");
	osInvalidSocket_voz9aUXu8jtRbvGZZJHNE8w = ((int) -1);
	nimln_(109, "nativesockets.nim");
	nativeAfInet_rQwsjQjVqXvdaL9aZofzWwg = AF_INET;
	nimln_(110, "nativesockets.nim");
	nativeAfInet6_Da6PongZL9aJxBrf7qeBmfA = AF_INET6;
	popFrame();
}

NIM_EXTERNC N_NOINLINE(void, stdlib_nativesocketsDatInit000)(void) {
static TNimNode* TM_f9bP3LqjpgpB9cXL8Nnak7tQ_23[4];
NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25;
static char* NIM_CONST TM_f9bP3LqjpgpB9cXL8Nnak7tQ_24[4] = {
"AF_UNSPEC", 
"AF_UNIX", 
"AF_INET", 
"AF_INET6"};
static TNimNode* TM_f9bP3LqjpgpB9cXL8Nnak7tQ_26[4];
NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28;
static char* NIM_CONST TM_f9bP3LqjpgpB9cXL8Nnak7tQ_27[4] = {
"SOCK_STREAM", 
"SOCK_DGRAM", 
"SOCK_RAW", 
"SOCK_SEQPACKET"};
static TNimNode* TM_f9bP3LqjpgpB9cXL8Nnak7tQ_29[6];
NI TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31;
static char* NIM_CONST TM_f9bP3LqjpgpB9cXL8Nnak7tQ_30[6] = {
"IPPROTO_TCP", 
"IPPROTO_UDP", 
"IPPROTO_IP", 
"IPPROTO_IPV6", 
"IPPROTO_RAW", 
"IPPROTO_ICMP"};
static TNimNode TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[17];
NTI_Q79bEtFARvq0ekDNtvj3Vqg_.size = sizeof(tyEnum_Domain_Q79bEtFARvq0ekDNtvj3Vqg);
NTI_Q79bEtFARvq0ekDNtvj3Vqg_.kind = 14;
NTI_Q79bEtFARvq0ekDNtvj3Vqg_.base = 0;
NTI_Q79bEtFARvq0ekDNtvj3Vqg_.flags = 3;
for (TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25 = 0; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25 < 4; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25++) {
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25+0].kind = 1;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25+0].offset = TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25+0].name = TM_f9bP3LqjpgpB9cXL8Nnak7tQ_24[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25];
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_23[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25] = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_25+0];
}
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[0].offset = 0;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[1].offset = 1;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[2].offset = 2;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[3].offset = 30;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[4].len = 4; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[4].kind = 2; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[4].sons = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_23[0];
NTI_Q79bEtFARvq0ekDNtvj3Vqg_.node = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[4];
NTI_Q79bEtFARvq0ekDNtvj3Vqg_.flags = 1<<2;
NTI_NQT1bItGG2X9byGdrWX7ujw_.size = sizeof(tyEnum_SockType_NQT1bItGG2X9byGdrWX7ujw);
NTI_NQT1bItGG2X9byGdrWX7ujw_.kind = 14;
NTI_NQT1bItGG2X9byGdrWX7ujw_.base = 0;
NTI_NQT1bItGG2X9byGdrWX7ujw_.flags = 3;
for (TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28 = 0; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28 < 4; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28++) {
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28+5].kind = 1;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28+5].offset = TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28+5].name = TM_f9bP3LqjpgpB9cXL8Nnak7tQ_27[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28];
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_26[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28] = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_28+5];
}
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[5].offset = 1;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[6].offset = 2;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[7].offset = 3;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[8].offset = 5;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[9].len = 4; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[9].kind = 2; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[9].sons = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_26[0];
NTI_NQT1bItGG2X9byGdrWX7ujw_.node = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[9];
NTI_NQT1bItGG2X9byGdrWX7ujw_.flags = 1<<2;
NTI_dqJ1OqRGclxIMMdSLRzzXg_.size = sizeof(tyEnum_Protocol_dqJ1OqRGclxIMMdSLRzzXg);
NTI_dqJ1OqRGclxIMMdSLRzzXg_.kind = 14;
NTI_dqJ1OqRGclxIMMdSLRzzXg_.base = 0;
NTI_dqJ1OqRGclxIMMdSLRzzXg_.flags = 3;
for (TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31 = 0; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31 < 6; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31++) {
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31+10].kind = 1;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31+10].offset = TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31+10].name = TM_f9bP3LqjpgpB9cXL8Nnak7tQ_30[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31];
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_29[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31] = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[TM_f9bP3LqjpgpB9cXL8Nnak7tQ_31+10];
}
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[10].offset = 6;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[11].offset = 17;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[12].offset = 18;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[13].offset = 19;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[14].offset = 20;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[15].offset = 21;
TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[16].len = 6; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[16].kind = 2; TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[16].sons = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_29[0];
NTI_dqJ1OqRGclxIMMdSLRzzXg_.node = &TM_f9bP3LqjpgpB9cXL8Nnak7tQ_0[16];
NTI_dqJ1OqRGclxIMMdSLRzzXg_.flags = 1<<2;
}

